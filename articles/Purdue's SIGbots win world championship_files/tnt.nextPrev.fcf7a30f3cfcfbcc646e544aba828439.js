window.__tnt||(window.__tnt={}),function(c,i,l){var r={},a={_init:function(){r=JSON.parse(i.getElementsByClassName("asset-paging-container")[0].dataset.settings),r.eventScroll=!1,a.fetchAssets()},adConflict:function(){var e=i.querySelector(".tnt-ads-anchor");if(e!==null){var t=i.querySelector(".tnt-ads-anchor .close"),n=i.querySelector(".asset-paging"),s=e.clientHeight,o=s+20;n.style.marginBottom=o+"px",t.addEventListener("click",function(){n.style.marginBottom="0"})}},appendLinks:function(e){for(var t,n,s=0;s<e.length;++s)e[s].id===r.uuid&&(t=e[s+1],n=e[s-1]);if(!t&&!n?(n=e[0],t=e[1]):!t&&n?t=e[0]:t&&!n&&(n=e[e.length-1]),n){var o=i.getElementById("paging-prev-"+r.uuid);o.appendChild(a.populateTemplate(n,"prev")),o.style.display="block",setTimeout(function(){o.classList.remove("offset")},200)}if(t){var d=i.getElementById("paging-next-"+r.uuid),f=i.querySelector(".share-container.headline-right");d.appendChild(a.populateTemplate(t,"next")),d.style.display="block",r.hasPageBreak||setTimeout(function(){d.classList.remove("offset")},200),f!==null&&(r.isFluid?f.style.display="none":f.classList.add("hidden-sm"))}a.eventListeners()},eventListeners:function(){c.addEventListener("load",a.showCondensed,!1),c.addEventListener("resize",a.showCondensed,!1),r.assetType==="article"&&!r.hasPageBreak&&(c.addEventListener("scroll",a.showOnScroll,!1),c.addEventListener("wheel",a.showOnScroll,!1)),c.innerWidth<=991&&(window.addEventListener("scroll",a.adConflict,!1),window.addEventListener("wheel",a.adConflict,!1))},eventTracking:function(){var e=i.querySelector("#asset-paging-"+r.uuid+" a"),t=e.dataset.direction==="right"?"next":"previous";e.addEventListener("click",function(){return l.trackEvent({category:"tnt-prev-next",action:t,label:r.assetType,value:"1"}),!0})},fetchAssets:function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==4&&e.status==200){var t=JSON.parse(e.responseText);typeof t.assets=="object"&&t.assets.length>0&&a.appendLinks(t.assets)}},e.open("GET",r.nextUrl),e.send()},populateTemplate:function(e,t){var n=l.template(i.getElementById("asset-paging-template")),s,o,d,f=80,u=r.blockId?e.url+r.blockId:e.url,y=!!(e.preview&&e.preview!="undefined");if(t==="next"?(o="right",d=r.isObit?"Next":"Next Up",u+="#tncms-source=article-nav-next"):(o="left",d="Previous",u+="#tncms-source=article-nav-prev"),r.isAdminVenue&&(u=u.replace("https://"+r.systemDomain,""),u="/"+r.siteName+"/tncms/admin/action/main/preview/site/-"+u),a.prerender(u),y){var p=i.createElement("img");p.setAttribute("alt",e.title),p.setAttribute("data-src",e.preview),p.setAttribute("width","80"),p.setAttribute("height","80"),p.classList.add("media-object","lazyload"),s=i.createElement("div"),s.classList.add("media-left"),s.appendChild(p),f=60}var v=n.querySelector(".arrow");v.setAttribute("href",u),v.setAttribute("data-direction",o),v.querySelector("span").classList.add("fas","tnt-angle-"+o),v.querySelector(".direction").innerHTML=d.substr(0,4);var m=n.querySelector(".overlay");return m.setAttribute("href",u),m.setAttribute("data-direction",o),m.querySelector(".sr-only").innerHTML=d,n.querySelector(".head small").innerHTML=d,n.querySelector(".media-heading").innerHTML=l.truncateStr(e.title.replace(/(<([^>]+)>)/ig,""),f,"&hellip;"),n.querySelector(".media-body p").innerHTML=l.truncateStr(e.summary.replace(/(<([^>]+)>)/ig,""),f,"&hellip;"),y&&n.querySelector(".media").prepend(s),n},prerender:function(e){var t=document.createElement("script"),n={prerender:[{urls:[e],eagerness:"moderate"}]};t.setAttribute("type","speculationrules"),t.innerText=JSON.stringify(n),document.head.appendChild(t)},showCondensed:function(){var e="trigger-condensed";if(c.innerWidth>991&&c.innerWidth<1296){var t=c.scrollLeft,n=i.getElementById("main-page-container").offsetLeft,s=n-t;s<55?i.body.classList.add(e):i.body.classList.remove(e)}else i.body.classList.remove(e)},showOnScroll:function(){if(!r.scrollEvent&&i.querySelector(".asset-body")!==null&&!i.body.classList.contains("trigger-disabled")&&!l.elementOnScreen("#site-header")&&!l.elementOnScreen("#asset-photo-carousel")&&!l.elementOnScreen(".asset-masthead")&&!l.elementOnScreen(".asset-showcase-image")&&(l.regions==null||!l.regions.stickyAnchor.hasContent)){r.scrollEvent=!0;var e="trigger-next";setTimeout(function(){l.elementOnScreen(".asset-body",250)?i.body.classList.remove(e):i.body.classList.add(e),r.scrollEvent=!1},200)}}};try{i.readyState=="loading"?i.addEventListener("DOMContentLoaded",a._init,!1):a._init()}catch(e){c.console&&c.console.warn(e)}}(window,document,__tnt);
//# sourceMappingURL=tnt.nextPrev.fcf7a30f3cfcfbcc646e544aba828439.js.map
